<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Deploying to BunnyCDN and protecting Norway from drop bears | Robin's blog</title>
<meta name=keywords content="cloud,cdn,cicd"><meta name=description content="Not long ago, I wrote about running containers as part of moving my hobby projects to European cloud providers. That post was focused on running good old Linux servers. I briefly mentioned BunnyCDN but didn’t dive into the details. It&rsquo;s time to dive into the details!
What the flark is a CDN?
A content delivery network is a geographically distributed network of servers that can deliver content to your users, close to where they are. It&rsquo;s useful, because the speed of light isn&rsquo;t fast enough to make pages load quickly across the other side of the globe. Seriously, the fastest thing in the universe cannot deliver cat pictures to people quickly enough. By using a CDN, you can geographically distribute assets like cat pictures, HTML, CSS, JavaScript, video files, fonts and much more."><meta name=author content="Robin Kåveland"><link rel=canonical href=https://kaveland.no/posts/2025-04-20-deploying-to-bunnycdn/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://kaveland.no/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://kaveland.no/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://kaveland.no/favicon-32x32.png><link rel=apple-touch-icon href=https://kaveland.no/apple-touch-icon.png><link rel=mask-icon href=https://kaveland.no/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://kaveland.no/posts/2025-04-20-deploying-to-bunnycdn/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script defer data-domain=kaveland.no src=https://plausible.io/js/script.js></script><meta property="og:title" content="Deploying to BunnyCDN and protecting Norway from drop bears"><meta property="og:description" content="Not long ago, I wrote about running containers as part of moving my hobby projects to European cloud providers. That post was focused on running good old Linux servers. I briefly mentioned BunnyCDN but didn’t dive into the details. It&rsquo;s time to dive into the details!
What the flark is a CDN?
A content delivery network is a geographically distributed network of servers that can deliver content to your users, close to where they are. It&rsquo;s useful, because the speed of light isn&rsquo;t fast enough to make pages load quickly across the other side of the globe. Seriously, the fastest thing in the universe cannot deliver cat pictures to people quickly enough. By using a CDN, you can geographically distribute assets like cat pictures, HTML, CSS, JavaScript, video files, fonts and much more."><meta property="og:type" content="article"><meta property="og:url" content="https://kaveland.no/posts/2025-04-20-deploying-to-bunnycdn/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-04-20T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-21T00:00:00+00:00"><meta property="og:site_name" content="Robin's blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Deploying to BunnyCDN and protecting Norway from drop bears"><meta name=twitter:description content="Not long ago, I wrote about running containers as part of moving my hobby projects to European cloud providers. That post was focused on running good old Linux servers. I briefly mentioned BunnyCDN but didn’t dive into the details. It&rsquo;s time to dive into the details!
What the flark is a CDN?
A content delivery network is a geographically distributed network of servers that can deliver content to your users, close to where they are. It&rsquo;s useful, because the speed of light isn&rsquo;t fast enough to make pages load quickly across the other side of the globe. Seriously, the fastest thing in the universe cannot deliver cat pictures to people quickly enough. By using a CDN, you can geographically distribute assets like cat pictures, HTML, CSS, JavaScript, video files, fonts and much more."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://kaveland.no/posts/"},{"@type":"ListItem","position":2,"name":"Deploying to BunnyCDN and protecting Norway from drop bears","item":"https://kaveland.no/posts/2025-04-20-deploying-to-bunnycdn/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Deploying to BunnyCDN and protecting Norway from drop bears","name":"Deploying to BunnyCDN and protecting Norway from drop bears","description":"Not long ago, I wrote about running containers as part of moving my hobby projects to European cloud providers. That post was focused on running good old Linux servers. I briefly mentioned BunnyCDN but didn’t dive into the details. It\u0026rsquo;s time to dive into the details!\nWhat the flark is a CDN? A content delivery network is a geographically distributed network of servers that can deliver content to your users, close to where they are. It\u0026rsquo;s useful, because the speed of light isn\u0026rsquo;t fast enough to make pages load quickly across the other side of the globe. Seriously, the fastest thing in the universe cannot deliver cat pictures to people quickly enough. By using a CDN, you can geographically distribute assets like cat pictures, HTML, CSS, JavaScript, video files, fonts and much more.\n","keywords":["cloud","cdn","cicd"],"articleBody":"Not long ago, I wrote about running containers as part of moving my hobby projects to European cloud providers. That post was focused on running good old Linux servers. I briefly mentioned BunnyCDN but didn’t dive into the details. It’s time to dive into the details!\nWhat the flark is a CDN? A content delivery network is a geographically distributed network of servers that can deliver content to your users, close to where they are. It’s useful, because the speed of light isn’t fast enough to make pages load quickly across the other side of the globe. Seriously, the fastest thing in the universe cannot deliver cat pictures to people quickly enough. By using a CDN, you can geographically distribute assets like cat pictures, HTML, CSS, JavaScript, video files, fonts and much more.\nIt turns out that most people who read my blog are located quite far from Finland, where my new server runs. Having to make one request to my page, then several others to retrieve assets would make my tiny, static blog very slow for people on the west coast of the USA or in India.\nWhat difference does it even make? To test this, I used the pingdom speed test to check the performance from Sydney, Australia. My reasoning is that Australia is very far from Finland. Apparently it’s around 13 394km. That is 13 394 000 meters, almost the same order of magnitude as the distance light travels in one second. Light would travel this distance in about 45 milliseconds. If we could somehow use a beam of light curving around the earth from Finland to Australia to transmit a TCP packet, it would still take around 90 milliseconds for a single round trip.\nOf course, we can’t beam a TCP packet on a light beam. There are all sorts of obstacles in the way that makes it take a lot longer. In fact, loading the frontpage of my blog from Sydney, Australia takes around 1.35 seconds when connecting directly to my server. I think that’s actually amazingly fast for the distance. There is an incredible amount of stuff that needs to happen for this to work at all.\nPulling my page from the CDN instead, it appears to take around 100 milliseconds. That’s because my site is being cached in lots of locations around the world by BunnyCDN:\nIt’s a pretty respectable improvement. Any page that expects a global audience would do well to put at least the static assets on a CDN. It is an easy win for performance and doesn’t have to be a big investment.\nNote that this does not fix low response time to my container services. If I wanted to make those fast for Australians, I would need to run a copy of my container somewhere near them. If they threaten me with some of their dangerous wildlife, I might. I wouldn’t want Norway to be invaded by drop bears. For now, demand has been comfortably low…\nIs this a new problem to me? I used to host my page on GitHub pages, which does have a CDN. Then, when I realized I wanted to expose my page on multiple domains, I moved it to another hosting provider, which also had CDN (it was hard to do this on GitHub pages a few years back).\nI didn’t want to make my static pages slower for everyone when I migrated my containers, so I wasn’t willing to let go of this service when I moved my containers to Hetzner. Hetzner does not provide CDN, so I had to find another provider for that.\nWhy BunnyCDN? I’m not sure what particular reason made me pick BunnyCDN from european-alternatives.eu, but I liked the pricing. The self-signup was pleasant, the coverage looked great, and I found it interesting that there’s a project for running containers “on the edge.”\nIf the drop bears actually do go after me, I could easily fix it.\nI’ve had to send a single request for support. I got an answer from a real human being in less than 30 minutes, even though I was on a free account and it was a Sunday. I’ve been happy with my choice.\nHow does it work? There are two main modes of operation for the CDN service that seemed relevant to me.\nPoint a domain at the CDN. Point the CDN at a server. The CDN acts like a cache. It will fetch resources from the server if they are not in the cache, otherwise return them directly. The nice thing about this is that you hit the ground running. This is what I did at first. I would expose my Hetzner VM as an Origin server to a BunnyCDN pull zone. The pull zone creation guide shows just how easy it is to get started with this approach.\nThe other approach is to use something called a Storage Zone. This is a bit more involved because you need to push files into the Storage Zone, so there are more moving pieces to set up.\nThe disadvantage of the first approach is that you can’t just ignore that the Pull Zone is there. For a low-traffic page like mine, I want to set a high cache expiration time. Otherwise, the content people are retrieving is unlikely to be cached, and their request will end up going to the origin server anyway. The way I solved this initially was to set an absurdly long Cache Expiration Time in the pull zone, and make the pull zone turn off the browser cache entirely. Then, whenever I deployed a new blog post, I would purge the pull zone cache. Then, for a little while, everything is dog slow for everyone, until the cache is repopulated again.\nThere are ways of alleviating this issue. You can purge specific URLs, like RSS feeds, the index page, the archive page, the atom feed, the tag page, the… You get the drift. This felt like the wrong solution.\nDeploying with Storage Zones Using Storage Zones for deployments sort of fixes this, because Storage Zones are geo-replicated. You upload your site to a Storage Zone, which is just like a remote file share. It is then automatically replicated to all over the world. Then you connect a pull zone to the Storage Zone.\nThe pull zone will still need to fetch from the Storage Zone, but the Storage Zone is going to be a lot closer than the origin server. Australians no longer need to fetch cat pictures from Finland. They can get them from Sydney instead. Cache expiration time no longer needs to be absurdly long. The drop bears are pleased. Norway is saved.\nA very pleased drop bear. An AI generated this. It was much too dangerous to obtain a real photograph.\nIf Storage Zones are great, why wait? When I initially started using BunnyCDN, I was moving a lot of things all at once, and I didn’t want to sink too much time into something before I was sure I wanted to keep using it. I didn’t want to use a web ui to upload files. There was the option to use FTP or an HTTP API.\nI didn’t want to try using FTP, and integrating the HTTP API into my CI seemed annoying, there didn’t seem to be a builtin sync, or capability of receiving an archive with all the files. This week, I’ve had some time to kill, so I decided to look at it again. In the end, the only reason it was time-consuming is because I made it so.\nThumper I made a tool I named thumper, after a very famous rabbit. It can sync a folder of files with some path within a BunnyCDN storage zone. It was an excuse to have fun writing some Rust code. I found other options after I had started making it. I was having fun, so I didn’t stop.\nI used the crossbeam crate to do concurrent file listing and file uploading. I really like this crate. Scoped, fearless concurrency with message-passing is great. I added auto-completion, check-summing, dry-runs and built documentation. I made binary releases for the major platforms (even Windows), and docker images for both arm and x86-64. It was fun and relaxing.\nI made a guide for deploying a static site with BunnyCDN storage zones and GitHub workflows. This workflow is taken from the documentation for thumper:\nname: Deploy documentation on: push: tags: - '*.*.*' workflow_dispatch: {} jobs: deploy_docs: runs-on: ubuntu-latest steps: - uses: actions/checkout@v4 - uses: jdx/mise-action@v2 - name: Render CLI help run: cargo test - name: Render mdbook run: mdbook build docs - name: Deploy docs to kaveland/thumper run: thumper sync docs/book kaveland --path thumper --concurrency 4 --verbose env: THUMPER_KEY: ${{ secrets.THUMPER_KEY }} - name: Purge pull zone run: thumper purge-zone 3644443 env: THUMPER_API_KEY: ${{ secrets.THUMPER_API_KEY }} The code is available under the MIT license over at GitHub. The tool is easy to install with mise, simply mise use ubi:kaaveland/thumper@latest.\nBut you don’t have to use thumper to deploy to a storage zone on BunnyCDN, there are options like bunny-launcher and there’s an official SDK.\nIs this serverless? I’m deploying my static assets directly to Storage Zones now, in case Finland decides to tariff imported cat pictures. The server’s still there, but it is now only responding to API traffic and attempts to break into the WordPress installation that isn’t there. I’m delighted with BunnyCDN and plan to keep my pages there for the foreseeable future. It strikes a great balance between cost, ease of use and options to expand if I get more complicated requirements later.\nThanks for reading!\n","wordCount":"1609","inLanguage":"en","datePublished":"2025-04-20T00:00:00Z","dateModified":"2025-04-21T00:00:00Z","author":{"@type":"Person","name":"Robin Kåveland"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://kaveland.no/posts/2025-04-20-deploying-to-bunnycdn/"},"publisher":{"@type":"Organization","name":"Robin's blog","logo":{"@type":"ImageObject","url":"https://kaveland.no/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://kaveland.no/ accesskey=h title="Robin's blog (Alt + H)">Robin's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://kaveland.no/about/ title=about><span>about</span></a></li><li><a href=https://kaveland.no/projects/ title=projects><span>projects</span></a></li><li><a href=https://kaveland.no/eugene/ title=eugene><span>eugene</span></a></li><li><a href=https://kaveland.no/thumper/ title=thumper><span>thumper</span></a></li><li><a href=https://kaveland.no/tags/ title=tags><span>tags</span></a></li><li><a href=https://kaveland.no/archives/ title=archives><span>archives</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://kaveland.no/>Home</a>&nbsp;»&nbsp;<a href=https://kaveland.no/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Deploying to BunnyCDN and protecting Norway from drop bears</h1><div class=post-meta><span title='2025-04-20 00:00:00 +0000 UTC'>April 20, 2025</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;1609 words&nbsp;·&nbsp;Robin Kåveland&nbsp;|&nbsp;<a href=https://github.com/kaaveland/kaaveland.github.io/content/posts/2025-04-20-deploying-to-bunnycdn/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#what-the-flark-is-a-cdn>What the flark is a CDN?</a></li><li><a href=#what-difference-does-it-even-make>What difference does it even make?</a></li><li><a href=#is-this-a-new-problem-to-me>Is this a new problem to me?</a></li><li><a href=#why-bunnycdn>Why BunnyCDN?</a></li><li><a href=#how-does-it-work>How does it work?</a></li><li><a href=#deploying-with-storage-zones>Deploying with Storage Zones</a></li><li><a href=#if-storage-zones-are-great-why-wait>If Storage Zones are great, why wait?</a></li><li><a href=#thumper>Thumper</a></li><li><a href=#is-this-serverless>Is this serverless?</a></li></ul></nav></div></details></div><div class=post-content><p>Not long ago, I wrote about <a href=/posts/2025-04-14-running-containers-on-the-cheap>running containers</a> as part of moving my hobby projects to European cloud providers. That post was focused on running good old Linux servers. I briefly mentioned <a href=https://bunny.net>BunnyCDN</a> but didn’t dive into the details. It&rsquo;s time to dive into the details!</p><h2 id=what-the-flark-is-a-cdn>What the flark is a CDN?<a hidden class=anchor aria-hidden=true href=#what-the-flark-is-a-cdn>#</a></h2><p>A <a href=https://en.wikipedia.org/wiki/Content_delivery_network>content delivery network</a> is a geographically distributed network of servers that can deliver content to your users, close to where they are. It&rsquo;s useful, because the speed of light isn&rsquo;t fast enough to make pages load quickly across the other side of the globe. Seriously, the fastest thing in the universe cannot deliver cat pictures to people quickly enough. By using a CDN, you can geographically distribute assets like cat pictures, HTML, CSS, JavaScript, video files, fonts and much more.</p><p>It turns out that most people who read my blog are located quite far from Finland, where my new server runs. Having to make one request to my page, then several others to retrieve assets would make my tiny, static blog very slow for people on the west coast of the USA or in India.</p><h2 id=what-difference-does-it-even-make>What difference does it even make?<a hidden class=anchor aria-hidden=true href=#what-difference-does-it-even-make>#</a></h2><p>To test this, I used the <a href=https://tools.pingdom.com>pingdom speed test</a> to check the performance from Sydney, Australia. My reasoning is that Australia is very far from Finland. Apparently it&rsquo;s around <a href=https://www.distancefromto.net/distance-from-australia-to-finland>13 394km</a>. That is 13 394 000 meters, almost the same order of magnitude as the distance light travels in one second. Light would travel this distance in about 45 milliseconds. If we could somehow use a beam of light curving around the earth from Finland to Australia to transmit a TCP packet, it would still take around 90 milliseconds for a single round trip.</p><p>Of course, we can&rsquo;t beam a TCP packet on a light beam. There are all sorts of obstacles in the way that makes it take a lot longer. In fact, loading the frontpage of my blog from Sydney, Australia takes around 1.35 seconds when connecting directly to my server. I think that&rsquo;s actually amazingly fast for the distance. There is an <a href=https://danluu.com/navigate-url/>incredible amount of stuff</a> that needs to happen for this to work at all.</p><p>Pulling my page from the CDN instead, it appears to take around 100 milliseconds. That&rsquo;s because my site is being cached in lots of locations around the world by BunnyCDN:</p><img src=/posts/2025-04-20-deploying-to-bunnycdn/bunny_pop_map.png alt="A world map showing CDN data center locations, with world wide coverage."><p>It&rsquo;s a pretty respectable improvement. Any page that expects a global audience would do well to put at least the static assets on a CDN. It is an easy win for performance and doesn&rsquo;t have to be a big investment.</p><p>Note that this does not fix low response time to my container services. If I wanted to make those fast for Australians, I would need to run a copy of my container somewhere near them. If they threaten me with some of their dangerous wildlife, I might. I wouldn&rsquo;t want Norway to be invaded by <a href=https://en.wikipedia.org/wiki/Drop_bear>drop bears</a>. For now, demand has been comfortably low&mldr;</p><h2 id=is-this-a-new-problem-to-me>Is this a new problem to me?<a hidden class=anchor aria-hidden=true href=#is-this-a-new-problem-to-me>#</a></h2><p>I used to host my page on GitHub pages, which does have a CDN. Then, when I realized I wanted to expose my page on multiple domains, I moved it to another hosting provider, which also had CDN (it was hard to do this on GitHub pages a few years back).</p><p>I didn&rsquo;t want to make my static pages slower for everyone when I migrated my containers, so I wasn&rsquo;t willing to let go of this service when I moved my containers to Hetzner. Hetzner does not provide CDN, so I had to find another provider for that.</p><h2 id=why-bunnycdn>Why BunnyCDN?<a hidden class=anchor aria-hidden=true href=#why-bunnycdn>#</a></h2><p>I&rsquo;m not sure what particular reason made me pick BunnyCDN from <a href=https://european-alternatives.eu/category/cdn-content-delivery-network>european-alternatives.eu</a>, but I liked the pricing. The self-signup was pleasant, the coverage looked great, and I found it interesting that there&rsquo;s a project for running containers &ldquo;on the edge.&rdquo;</p><p>If the drop bears actually do go after me, I could easily fix it.</p><p>I&rsquo;ve had to send a single request for support. I got an answer from a real human being in less than 30 minutes, even though I was on a free account and it was a Sunday. I&rsquo;ve been happy with my choice.</p><h2 id=how-does-it-work>How does it work?<a hidden class=anchor aria-hidden=true href=#how-does-it-work>#</a></h2><p>There are two main modes of operation for the CDN service that seemed relevant to me.</p><p>Point a domain at the CDN. Point the CDN at a server. The CDN acts like a cache. It will fetch resources from the server if they are not in the cache, otherwise return them directly. The nice thing about this is that you hit the ground running. This is what I did at first. I would expose my Hetzner VM as an Origin server to a BunnyCDN pull zone. The pull zone creation <a href=https://support.bunny.net/hc/en-us/articles/207790269-How-to-create-your-first-Pull-Zone>guide</a> shows just how easy it is to get started with this approach.</p><p>The other approach is to use something called a Storage Zone. This is a bit more involved because you need to push files into the Storage Zone, so there are more moving pieces to set up.</p><p>The disadvantage of the first approach is that you can&rsquo;t just ignore that the Pull Zone is there. For a low-traffic page like mine, I want to set a high cache expiration time. Otherwise, the content people are retrieving is unlikely to be cached, and their request will end up going to the origin server anyway. The way I solved this initially was to set an absurdly long Cache Expiration Time in the pull zone, and make the pull zone turn off the browser cache entirely. Then, whenever I deployed a new blog post, I would purge the pull zone cache. Then, for a little while, everything is dog slow for everyone, until the cache is repopulated again.</p><p>There are ways of alleviating this issue. You can purge specific URLs, like RSS feeds, the index page, the archive page, the atom feed, the tag page, the&mldr; You get the drift. This felt like the wrong solution.</p><h2 id=deploying-with-storage-zones>Deploying with Storage Zones<a hidden class=anchor aria-hidden=true href=#deploying-with-storage-zones>#</a></h2><p>Using Storage Zones for deployments sort of fixes this, because Storage Zones are geo-replicated. You upload your site to a Storage Zone, which is just like a remote file share. It is then automatically replicated to all over the world. Then you <a href=https://support.bunny.net/hc/en-us/articles/8561433879964-How-to-access-and-deliver-files-from-Bunny-Storage>connect</a> a pull zone to the Storage Zone.</p><p>The pull zone will still need to fetch from the Storage Zone, but the Storage Zone is going to be a lot closer than the origin server. Australians no longer need to fetch cat pictures from Finland. They can get them from Sydney instead. Cache expiration time no longer needs to be absurdly long. The drop bears are pleased. Norway is saved.</p><figure><img loading=lazy src=/posts/2025-04-20-deploying-to-bunnycdn/happy_dropbear.jpg alt="An image showing a very pleased drop bear"><figcaption><p>A very pleased drop bear. An AI generated this. It was much too dangerous to obtain a real photograph.</p></figcaption></figure><h2 id=if-storage-zones-are-great-why-wait>If Storage Zones are great, why wait?<a hidden class=anchor aria-hidden=true href=#if-storage-zones-are-great-why-wait>#</a></h2><p>When I initially started using BunnyCDN, I was moving a lot of things all at once, and I didn&rsquo;t want to sink too much time into something before I was sure I wanted to keep using it. I didn&rsquo;t want to use a web ui to upload files. There was the option to use FTP or an HTTP API.</p><p>I didn&rsquo;t want to try using FTP, and integrating the HTTP API into my CI seemed annoying, there didn&rsquo;t seem to be a builtin sync, or capability of receiving an archive with all the files. This week, I&rsquo;ve had some time to kill, so I decided to look at it again. In the end, the only reason it was time-consuming is because I made it so.</p><h2 id=thumper>Thumper<a hidden class=anchor aria-hidden=true href=#thumper>#</a></h2><p>I made a tool I named <a href=https://kaveland.no/thumper/>thumper</a>, after a very famous rabbit. It can sync a folder of files with some path within a BunnyCDN storage zone. It was an excuse to have fun writing some Rust code. I found other options after I had started making it. I was having fun, so I didn&rsquo;t stop.</p><p>I used the <a href=https://docs.rs/crossbeam/latest/crossbeam/>crossbeam</a> crate to do concurrent file listing and file uploading. I really like this crate. Scoped, fearless concurrency with message-passing is great. I added auto-completion, check-summing, dry-runs and built documentation. I made binary releases for the major platforms (even Windows), and docker images for both arm and x86-64. It was fun and relaxing.</p><p>I made a guide for <a href=https://kaveland.no/thumper/bunnycdn.html>deploying a static site</a> with BunnyCDN storage zones and GitHub workflows. This workflow is taken from the documentation for thumper:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy documentation</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>tags</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s1>&#39;*.*.*&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w> </span>{}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>deploy_docs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>jdx/mise-action@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Render CLI help</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>cargo test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Render mdbook</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>mdbook build docs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy docs to kaveland/thumper</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>thumper sync docs/book kaveland --path thumper --concurrency 4 --verbose</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>THUMPER_KEY</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.THUMPER_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Purge pull zone</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>thumper purge-zone 3644443</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>THUMPER_API_KEY</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.THUMPER_API_KEY }}</span><span class=w>
</span></span></span></code></pre></div><p>The code is available under the MIT license over at <a href=https://github.com/kaaveland/thumper>GitHub</a>. The tool is easy to install with <a href=https://mise.jdx.dev/>mise</a>, simply <code>mise use ubi:kaaveland/thumper@latest</code>.</p><p>But you don&rsquo;t have to use <code>thumper</code> to deploy to a storage zone on BunnyCDN, there are options like <a href=https://bunny-launcher.net/>bunny-launcher</a> and there&rsquo;s an official <a href=https://bunny-launcher.net/bunny-sdk/quickstart/>SDK</a>.</p><h2 id=is-this-serverless>Is this serverless?<a hidden class=anchor aria-hidden=true href=#is-this-serverless>#</a></h2><p>I&rsquo;m deploying my static assets directly to Storage Zones now, in case Finland decides to tariff imported cat pictures. The server&rsquo;s still there, but it is now only responding to API traffic and attempts to break into the WordPress installation that isn&rsquo;t there. I&rsquo;m delighted with BunnyCDN and plan to keep my pages there for the foreseeable future. It strikes a great balance between cost, ease of use and options to expand if I get more complicated requirements later.</p><p>Thanks for reading!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://kaveland.no/tags/cloud/>Cloud</a></li><li><a href=https://kaveland.no/tags/cdn/>Cdn</a></li><li><a href=https://kaveland.no/tags/cicd/>Cicd</a></li></ul><nav class=paginav><a class=prev href=https://kaveland.no/posts/2025-04-26-no-idea/><span class=title>« Prev</span><br><span>It's okay to have no idea what you're doing and try anyway</span>
</a><a class=next href=https://kaveland.no/posts/2025-04-16-whats-up-eugene/><span class=title>Next »</span><br><span>Checking SQL migrations with eugene</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Deploying to BunnyCDN and protecting Norway from drop bears on x" href="https://x.com/intent/tweet/?text=Deploying%20to%20BunnyCDN%20and%20protecting%20Norway%20from%20drop%20bears&amp;url=https%3a%2f%2fkaveland.no%2fposts%2f2025-04-20-deploying-to-bunnycdn%2f&amp;hashtags=cloud%2ccdn%2ccicd"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Deploying to BunnyCDN and protecting Norway from drop bears on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fkaveland.no%2fposts%2f2025-04-20-deploying-to-bunnycdn%2f&amp;title=Deploying%20to%20BunnyCDN%20and%20protecting%20Norway%20from%20drop%20bears&amp;summary=Deploying%20to%20BunnyCDN%20and%20protecting%20Norway%20from%20drop%20bears&amp;source=https%3a%2f%2fkaveland.no%2fposts%2f2025-04-20-deploying-to-bunnycdn%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Deploying to BunnyCDN and protecting Norway from drop bears on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fkaveland.no%2fposts%2f2025-04-20-deploying-to-bunnycdn%2f&title=Deploying%20to%20BunnyCDN%20and%20protecting%20Norway%20from%20drop%20bears"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Deploying to BunnyCDN and protecting Norway from drop bears on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fkaveland.no%2fposts%2f2025-04-20-deploying-to-bunnycdn%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Deploying to BunnyCDN and protecting Norway from drop bears on whatsapp" href="https://api.whatsapp.com/send?text=Deploying%20to%20BunnyCDN%20and%20protecting%20Norway%20from%20drop%20bears%20-%20https%3a%2f%2fkaveland.no%2fposts%2f2025-04-20-deploying-to-bunnycdn%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Deploying to BunnyCDN and protecting Norway from drop bears on telegram" href="https://telegram.me/share/url?text=Deploying%20to%20BunnyCDN%20and%20protecting%20Norway%20from%20drop%20bears&amp;url=https%3a%2f%2fkaveland.no%2fposts%2f2025-04-20-deploying-to-bunnycdn%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Deploying to BunnyCDN and protecting Norway from drop bears on ycombinator" href="https://news.ycombinator.com/submitlink?t=Deploying%20to%20BunnyCDN%20and%20protecting%20Norway%20from%20drop%20bears&u=https%3a%2f%2fkaveland.no%2fposts%2f2025-04-20-deploying-to-bunnycdn%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://kaveland.no/>Robin's blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>