<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Running containers on no-ops linux in 2025 | Robin's blog</title>
<meta name=keywords content="cloud,linux,ops"><meta name=description content="Back in February, I decided that I wanted to move hosting of my hobby projects to a european cloud provider. At this time, I don&rsquo;t feel like spending more energy on why, but maybe someone can learn something from the how. I have pretty simple requirements, so I figured I should be able to find simple and inexpensive hosting too. It turns out that there are many european cloud providers in 2025, but none that were really a perfect fit for what I was looking for. Here&rsquo;s what I wanted:"><meta name=author content="Robin Kåveland"><link rel=canonical href=https://kaveland.no/posts/2025-04-14-running-containers-on-the-cheap/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://kaveland.no/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://kaveland.no/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://kaveland.no/favicon-32x32.png><link rel=apple-touch-icon href=https://kaveland.no/apple-touch-icon.png><link rel=mask-icon href=https://kaveland.no/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://kaveland.no/posts/2025-04-14-running-containers-on-the-cheap/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script defer data-domain=kaveland.no src=https://plausible.io/js/script.js></script><meta property="og:title" content="Running containers on no-ops linux in 2025"><meta property="og:description" content="Back in February, I decided that I wanted to move hosting of my hobby projects to a european cloud provider. At this time, I don&rsquo;t feel like spending more energy on why, but maybe someone can learn something from the how. I have pretty simple requirements, so I figured I should be able to find simple and inexpensive hosting too. It turns out that there are many european cloud providers in 2025, but none that were really a perfect fit for what I was looking for. Here&rsquo;s what I wanted:"><meta property="og:type" content="article"><meta property="og:url" content="https://kaveland.no/posts/2025-04-14-running-containers-on-the-cheap/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-04-14T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-14T00:00:00+00:00"><meta property="og:site_name" content="Robin's blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Running containers on no-ops linux in 2025"><meta name=twitter:description content="Back in February, I decided that I wanted to move hosting of my hobby projects to a european cloud provider. At this time, I don&rsquo;t feel like spending more energy on why, but maybe someone can learn something from the how. I have pretty simple requirements, so I figured I should be able to find simple and inexpensive hosting too. It turns out that there are many european cloud providers in 2025, but none that were really a perfect fit for what I was looking for. Here&rsquo;s what I wanted:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://kaveland.no/posts/"},{"@type":"ListItem","position":2,"name":"Running containers on no-ops linux in 2025","item":"https://kaveland.no/posts/2025-04-14-running-containers-on-the-cheap/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Running containers on no-ops linux in 2025","name":"Running containers on no-ops linux in 2025","description":"Back in February, I decided that I wanted to move hosting of my hobby projects to a european cloud provider. At this time, I don\u0026rsquo;t feel like spending more energy on why, but maybe someone can learn something from the how. I have pretty simple requirements, so I figured I should be able to find simple and inexpensive hosting too. It turns out that there are many european cloud providers in 2025, but none that were really a perfect fit for what I was looking for. Here\u0026rsquo;s what I wanted:\n","keywords":["cloud","linux","ops"],"articleBody":"Back in February, I decided that I wanted to move hosting of my hobby projects to a european cloud provider. At this time, I don’t feel like spending more energy on why, but maybe someone can learn something from the how. I have pretty simple requirements, so I figured I should be able to find simple and inexpensive hosting too. It turns out that there are many european cloud providers in 2025, but none that were really a perfect fit for what I was looking for. Here’s what I wanted:\nTLS and sensible http routing Inexpensive hosting and S3-compatible object storage Running arbitrary webapps in containers Running arbitrary jobs in containers Option to use a managed database if I wanted Easy/scriptable deploy, minimal ops, minimal fuss CDN As little YAML as possible (I do enough of this during office hours) I didn’t find something like this at a price point I was comfortable with for my hobby projects. All the parts are there, but the lego hasn’t been assembled just right (yet). After scouring a lot of documentation on different clouds, I decided to just try running it on a linux virtual machine and think about CDN later.\nFor price, I think it is probably hard to beat Hetzner. I had also heard from several people I know that they were good before, so that’s where I ended up going. There’s a terraform provider, an API and the machines come with cloud-init. Hetzner is fairly bare bones, there’s few managed services to choose from. I thought it was probably acceptable for me to run with a Linux server.\nI’m happy with Hetzner as a provider, but I also thought upcloud and scaleway look promising, so I’ll check those out at some point in the future. Unlike Hetzner, both of those have managed kubernetes and managed databases offerings. All of them offer inexpensive S3-compatible object storage and network level load balancers.\nLinux for container workloads in 2025 I feel like I’ve landed a setup that is good enough for now on the server, and there’s some future work on setting up automated deployments. In short, there’s a reverse proxy running on the host, proxying to podman containers managed by systemd. This is a surprisingly versatile and ops-free setup so far. I’ve been running on kubernetes at work for around 7 or 8 years now. While it’s a great tool, I do get enough of it during office hours and wanted something simpler for my hobby projects. podman has rootless containers, great integration with systemd, and is CLI-compatible with docker. I like it a lot so far.\nThe server does unattended reboots approximately once a week (when there are security updates), and everything just comes right back up. I feel like a server like this could be mostly automatically set up in cloud-init. I went with Ubuntu 24.04 for my machine.\nServer ops \u0026 TLS termination There’s some number of things that need to be done to the server to make it secure and usable. Ideally, I should make a cloud-init script to take care of these, but I haven’t yet. Disable passwords in ssh logins:\necho PasswordAuthentication no \u003e\u003e /etc/ssh/sshd_config.d/require_key.conf systemctl reload ssh There’s a lot more ssh hardening steps I could take, I remember setting up fail2ban and alternate ports in the past, as well as a number of configuration options. For now, I’ve firewalled the server with a Hetzner firewall so that only my IP can reach ssh on port 22. Since I’m not an enterprise and this isn’t mission-critical, I figure this level of SSH security is good enough for my use case.\nI ensured unattended upgrades are enabled:\nsystemctl enable unattended-upgrades Ensure that unattended upgrades reboot when required by editing /etc/apt/apt.conf.d/50unattended-upgrades. In particular, I’ve found these lines and changed them:\n// Automatically reboot *WITHOUT CONFIRMATION* if // the file /var/run/reboot-required is found after the upgrade Unattended-Upgrade::Automatic-Reboot \"true\"; // Automatically reboot even if there are users currently logged in // when Unattended-Upgrade::Automatic-Reboot is set to true Unattended-Upgrade::Automatic-Reboot-WithUsers \"true\"; // If automatic reboot is enabled and needed, reboot at the specific // time instead of immediately // Default: \"now\" Unattended-Upgrade::Automatic-Reboot-Time \"02:00\"; // Enable logging to syslog. Default is False Unattended-Upgrade::SyslogEnable \"true\"; I chose to use nginx as a reverse proxy, because I’m familiar with the arcane configuration language, and it’s tried and tested millions of times. I use certbot for TLS, which I’m also familiar with from before. This combination is robust and common, so it’s a safe choice.\nI would like to check out caddyserver which seems more modern at some point, so I’m probably changing this later. Maybe I could run it as a container? 🤔 Caddy has letsencrypt-integration builtin and probably more modern defaults.\nTo set up nginx and certbot, I needed to install:\napt install nginx certbot python3-certbot-nginx -y I made a site in /etc/nginx/sites-available/kollektivkart.conf:\nserver { server_name kollektivkart.kaveland.no kollektivkart.arktekk.no; } I enabled it with:\nln -s /etc/nginx/{sites-available,sites-enabled}/kollektivkart.conf systemctl reload nginx This is enough to get a certificate with certbot (assuming DNS is set up with A records pointing to the server IP):\ncertbot --nginx -d kollektivkart.kaveland.no -d kollektivkart.arktekk.no # prompts for email and accept terms grep -R certbot /etc/cron* # verify that cert renewal has been set up rm /etc/nginx/sites-enabled/default # remove the default site now that there's something on the server After running qualys ssltest and getting an A, I felt like I had the basic steps needed to set up a new endpoint address. I added some global nginx configuration to /etc/nginx/conf.d/reverse_proxy.conf to set timeouts, limits, enable compression and some security options:\nadd_header X-Frame-Options \"SAMEORIGIN\"; add_header X-XSS-Protection \"1; mode=block\"; add_header X-Content-Type-Options \"nosniff\"; client_max_body_size 1M; limit_req_zone $binary_remote_addr zone=request_limit:10m rate=15r/s; limit_conn_zone $binary_remote_addr zone=conn_limit_per_ip:10m; client_header_buffer_size 4k; large_client_header_buffers 2 4k; keepalive_timeout 15s; client_body_timeout 15s; client_header_timeout 15s; proxy_connect_timeout 5s; proxy_read_timeout 5s; gzip_vary on; gzip_proxied any; gzip_comp_level 6; gzip_buffers 16 8k; gzip_http_version 1.1; gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript; log_format combined_with_ms '$remote_addr - $remote_user [$time_local] ' '\"$request\" $status $body_bytes_sent ' '\"$http_referer\" \"$http_user_agent\" \"$request_time\"'; Running a container I wanted a dedicated linux user for each container. I created a user:\nuseradd -m -s /bin/bash kollektivkart # enable user to own systemd units that are automatically enabled on boot loginctl enable-linger kollektivkart I installed podman to run containers:\napt install podman I decided to run this particular container on port 8000 on the loopback, so I went and modified /etc/nginx/sites-available/kollektivkart.conf, adding the following into the server block that was already there:\nlocation = /robots.txt { add_header Content-Type text/plain; return 200 \"User-agent: *\\nDisallow: /\"; } location / { proxy_pass http://127.0.0.1:8000; proxy_http_version 1.1; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; limit_conn conn_limit_per_ip 20; limit_req zone=request_limit burst=20 nodelay; } access_log /var/log/nginx/access.log combined_with_ms; The rest of the steps have been done with the kollektivkart user I created. I made an environment file for environment variables I wanted to be available within the container. There aren’t any secrets in this one, so I didn’t bother with podman secrets and just created $HOME/kollektivkart.conf:\nCPU_LIMIT=2.0 MEM_LIMIT=2048m WORKERS=4 SIMPLE_ANALYTICS=true IMAGE_TAG=latest In $HOME/.config/systemd/user/kollektivkart.service I made a systemd unit for the container:\n[Unit] Description=kollektivkart After=network.target [Service] EnvironmentFile=/home/kollektivkart/kollektivkart.conf ExecStart=/usr/bin/podman run --rm -p 127.0.0.1:8000:8000 \\ --cpus=\"${CPU_LIMIT}\" \\ --memory=\"${MEM_LIMIT}\" \\ --env-file=/home/kollektivkart/kollektivkart.conf \\ ghcr.io/kaaveland/bus-eta:${IMAGE_TAG} \\ webapp:server \\ --preload \\ --bind 0.0.0.0:8000 \\ --chdir=/app \\ --workers=\"${WORKERS}\" SyslogIdentifier=kollektivkart Restart=on-failure [Install] WantedBy=default.target I started it and enabled it with these commands:\nsystemctl --user daemon-reload systemctl --user enable kollektivkart systemctl --user start kollektivkart With this setup, I need to ssh to the kollektivkart user and execute podman pull ghcr.io/kaaveland/bus-eta:latest and systemd --user restart kollektivkart to deploy. A rollback requires me to manually set IMAGE_TAG in the environment file and issue systemctl --user daemon-reload \u0026\u0026 systemctl --user restart kollektivkart.\nCDN I went with bunny.net for this and set it up by making an A record point to the CDN and having it pull from my origin server at another domain. It was straightforward to set this up, and quite inexpensive too. I’m probably going to change this setup to just push my static files directly into the CDN and run APIs on a different domain in the future. 🚧\nConclusion Of the original requirements:\nTLS and sensible http routing ✅ Inexpensive hosting and S3-compatible object storage ✅ Running arbitrary webapps in containers ✅ Running arbitrary jobs in containers ❓ Option to use a managed database if I wanted ❌ (not supported in Hetzner) Easy/scriptable deploy, minimal ops, minimal fuss ✅ (Could do more here 🚧) CDN ✅ As little YAML as possible ✅ (Only in the GitHub workflows that push images) I’m quite happy with where I got this, but I want to investigate some things soon:\ncaddyserver for TLS termination, possibly inside a container? 🤔 quadlets podman auto-update Push static files to CDN for deployment Set up all of this configuration with cloud-init + ansible or puppet (Honestly, it’s probably going to be ansible even though I wanted to avoid YAML) Putting daily batch data processing in podman + systemd managed containers The setup feels pretty ergonomic and nice already, though. It is quick and easy for me to deploy a new container service, all I need to do is to allocate a port, add a proxy pass and a systemd unit. No new services need to be purchased, I’m already paying for everything I need, and it’s actually more affordable than the hosting I was using before. I’m comfortable configuring postgres on this machine, sending backups to object storage using something like wal-g or pgbackrest, I’ve done this kind of thing at work before.\nCost breakdown All costs include VAT:\nCDN: $0.5 / month minimum payment covers roughly 40GB for my usage CX32 instance with 4 shared VCPU, 8 GB RAM and 80GB NVME SSD including backups: € 10.08 S3 compatible blob storage with 1TB storage and 1TB egress: € 6.24 This is a lot more capacity than what I really need, but it’s nice to have some space to grow. Maybe I’ll end up hosting more things now that I no longer need to increase the size of my bill whenever I want to test an idea?\n","wordCount":"1679","inLanguage":"en","datePublished":"2025-04-14T00:00:00Z","dateModified":"2025-04-14T00:00:00Z","author":{"@type":"Person","name":"Robin Kåveland"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://kaveland.no/posts/2025-04-14-running-containers-on-the-cheap/"},"publisher":{"@type":"Organization","name":"Robin's blog","logo":{"@type":"ImageObject","url":"https://kaveland.no/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://kaveland.no/ accesskey=h title="Robin's blog (Alt + H)">Robin's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://kaveland.no/about/ title=about><span>about</span></a></li><li><a href=https://kaveland.no/projects/ title=projects><span>projects</span></a></li><li><a href=https://kaveland.no/eugene/ title=eugene><span>eugene</span></a></li><li><a href=https://kaveland.no/thumper/ title=thumper><span>thumper</span></a></li><li><a href=https://kaveland.no/tags/ title=tags><span>tags</span></a></li><li><a href=https://kaveland.no/archives/ title=archives><span>archives</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://kaveland.no/>Home</a>&nbsp;»&nbsp;<a href=https://kaveland.no/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Running containers on no-ops linux in 2025</h1><div class=post-meta><span title='2025-04-14 00:00:00 +0000 UTC'>April 14, 2025</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;1679 words&nbsp;·&nbsp;Robin Kåveland&nbsp;|&nbsp;<a href=https://github.com/kaaveland/kaaveland.github.io/content/posts/2025-04-14-running-containers-on-the-cheap.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#linux-for-container-workloads-in-2025>Linux for container workloads in 2025</a><ul><li><a href=#server-ops--tls-termination>Server ops & TLS termination</a></li><li><a href=#running-a-container>Running a container</a></li></ul></li><li><a href=#cdn>CDN</a></li><li><a href=#conclusion>Conclusion</a><ul><li><a href=#cost-breakdown>Cost breakdown</a></li></ul></li></ul></nav></div></details></div><div class=post-content><p>Back in February, I decided that I wanted to move hosting of my hobby projects to a european cloud provider. At this time, I don&rsquo;t feel like spending more energy on why, but maybe someone can learn something from the how. I have pretty simple requirements, so I figured I should be able to find simple and inexpensive hosting too. It turns out that there are many european cloud providers in 2025, but none that were really a <em>perfect</em> fit for what I was looking for. Here&rsquo;s what I wanted:</p><ul><li>TLS and sensible http routing</li><li>Inexpensive hosting and S3-compatible object storage</li><li>Running arbitrary webapps in containers</li><li>Running arbitrary jobs in containers</li><li>Option to use a managed database if I wanted</li><li>Easy/scriptable deploy, minimal ops, minimal fuss</li><li>CDN</li><li>As little YAML as possible (I do enough of this during office hours)</li></ul><p>I didn&rsquo;t find something like this at a price point I was comfortable with for my hobby projects. All the parts are there, but the lego hasn&rsquo;t been assembled just right (yet). After scouring a lot of documentation on different clouds, I decided to just try running it on a linux virtual machine and think about CDN later.</p><p>For price, I think it is probably hard to beat <a href=https://www.hetzner.com/>Hetzner</a>. I had also heard from several people I know that they were good before, so that&rsquo;s where I ended up going. There&rsquo;s a <a href=https://github.com/hetznercloud/terraform-provider-hcloud>terraform provider</a>, an <a href=https://docs.hetzner.cloud/>API</a> and the machines come with <a href=https://cloudinit.readthedocs.io/en/latest/index.html>cloud-init</a>. Hetzner is fairly bare bones, there&rsquo;s few managed services to choose from. I thought it was probably acceptable for me to run with a Linux server.</p><p>I&rsquo;m happy with Hetzner as a provider, but I also thought <a href=https://upcloud.com/>upcloud</a> and <a href=https://www.scaleway.com/>scaleway</a> look promising, so I&rsquo;ll check those out at some point in the future. Unlike Hetzner, both of those have managed kubernetes and managed databases offerings. All of them offer inexpensive S3-compatible object storage and network level load balancers.</p><h2 id=linux-for-container-workloads-in-2025>Linux for container workloads in 2025<a hidden class=anchor aria-hidden=true href=#linux-for-container-workloads-in-2025>#</a></h2><p>I feel like I&rsquo;ve landed a setup that is good enough for now on the server, and there&rsquo;s some future work on setting up automated deployments. In short, there&rsquo;s a reverse proxy running on the host, proxying to <a href=https://podman.io/>podman</a> containers managed by <a href=https://systemd.io/>systemd</a>. This is a surprisingly versatile and ops-free setup so far. I&rsquo;ve been running on kubernetes at work for around 7 or 8 years now. While it&rsquo;s a great tool, I do get enough of it during office hours and wanted something simpler for my hobby projects. podman has rootless containers, great integration with systemd, and is CLI-compatible with docker. I like it a lot so far.</p><p>The server does unattended reboots approximately once a week (when there are security updates), and everything just comes right back up. I feel like a server like this could be <em>mostly</em> automatically set up in cloud-init. I went with Ubuntu 24.04 for my machine.</p><h3 id=server-ops--tls-termination>Server ops & TLS termination<a hidden class=anchor aria-hidden=true href=#server-ops--tls-termination>#</a></h3><p>There&rsquo;s some number of things that need to be done to the server to make it secure and usable. Ideally, I should make a cloud-init script to take care of these, but I haven&rsquo;t yet. Disable passwords in ssh logins:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>echo</span> PasswordAuthentication no &gt;&gt; /etc/ssh/sshd_config.d/require_key.conf
</span></span><span class=line><span class=cl>systemctl reload ssh
</span></span></code></pre></div><p>There&rsquo;s a lot more ssh hardening steps I could take, I remember setting up <code>fail2ban</code> and alternate ports in the past, as well as a number of configuration options. For now, I&rsquo;ve firewalled the server with a Hetzner firewall so that only my IP can reach ssh on port 22. Since I’m not an enterprise and this isn’t mission-critical, I figure this level of SSH security is good enough for my use case.</p><p>I ensured unattended upgrades are enabled:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>systemctl <span class=nb>enable</span> unattended-upgrades
</span></span></code></pre></div><p>Ensure that unattended upgrades reboot when required by editing <code>/etc/apt/apt.conf.d/50unattended-upgrades</code>. In particular, I&rsquo;ve found these lines and changed them:</p><pre tabindex=0><code>// Automatically reboot *WITHOUT CONFIRMATION* if
//  the file /var/run/reboot-required is found after the upgrade
Unattended-Upgrade::Automatic-Reboot &#34;true&#34;;

// Automatically reboot even if there are users currently logged in
// when Unattended-Upgrade::Automatic-Reboot is set to true
Unattended-Upgrade::Automatic-Reboot-WithUsers &#34;true&#34;;

// If automatic reboot is enabled and needed, reboot at the specific
// time instead of immediately
//  Default: &#34;now&#34;
Unattended-Upgrade::Automatic-Reboot-Time &#34;02:00&#34;;

// Enable logging to syslog. Default is False
Unattended-Upgrade::SyslogEnable &#34;true&#34;;
</code></pre><p>I chose to use <code>nginx</code> as a reverse proxy, because I&rsquo;m familiar with the arcane configuration language, and it&rsquo;s tried and tested millions of times. I use certbot for TLS, which I&rsquo;m also familiar with from before. This combination is robust and common, so it&rsquo;s a safe choice.</p><p>I would like to check out <a href=https://caddyserver.com/>caddyserver</a> which seems more modern at some point, so I&rsquo;m probably changing this later. Maybe I could run it as a container? 🤔 Caddy has letsencrypt-integration builtin and probably more modern defaults.</p><p>To set up nginx and certbot, I needed to install:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>apt install nginx certbot python3-certbot-nginx -y
</span></span></code></pre></div><p>I made a site in <code>/etc/nginx/sites-available/kollektivkart.conf</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>server <span class=o>{</span>
</span></span><span class=line><span class=cl>    server_name kollektivkart.kaveland.no kollektivkart.arktekk.no<span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>I enabled it with:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>ln -s /etc/nginx/<span class=o>{</span>sites-available,sites-enabled<span class=o>}</span>/kollektivkart.conf
</span></span><span class=line><span class=cl>systemctl reload nginx
</span></span></code></pre></div><p>This is enough to get a certificate with certbot (assuming DNS is set up with A records pointing to the server IP):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>certbot --nginx -d kollektivkart.kaveland.no -d kollektivkart.arktekk.no <span class=c1># prompts for email and accept terms</span>
</span></span><span class=line><span class=cl>grep -R certbot /etc/cron* <span class=c1># verify that cert renewal has been set up</span>
</span></span><span class=line><span class=cl>rm /etc/nginx/sites-enabled/default <span class=c1># remove the default site now that there&#39;s something on the server</span>
</span></span></code></pre></div><p>After running <a href=https://www.ssllabs.com/ssltest/>qualys ssltest</a> and getting an A, I felt like I had the basic steps needed to set up a new endpoint address. I added some global nginx configuration to <code>/etc/nginx/conf.d/reverse_proxy.conf</code> to set timeouts, limits, enable compression and some security options:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>add_header X-Frame-Options <span class=s2>&#34;SAMEORIGIN&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>add_header X-XSS-Protection <span class=s2>&#34;1; mode=block&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>add_header X-Content-Type-Options <span class=s2>&#34;nosniff&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>client_max_body_size 1M<span class=p>;</span>
</span></span><span class=line><span class=cl>limit_req_zone <span class=nv>$binary_remote_addr</span> <span class=nv>zone</span><span class=o>=</span>request_limit:10m <span class=nv>rate</span><span class=o>=</span>15r/s<span class=p>;</span>
</span></span><span class=line><span class=cl>limit_conn_zone <span class=nv>$binary_remote_addr</span> <span class=nv>zone</span><span class=o>=</span>conn_limit_per_ip:10m<span class=p>;</span>
</span></span><span class=line><span class=cl>client_header_buffer_size 4k<span class=p>;</span>
</span></span><span class=line><span class=cl>large_client_header_buffers <span class=m>2</span> 4k<span class=p>;</span>
</span></span><span class=line><span class=cl>keepalive_timeout 15s<span class=p>;</span>
</span></span><span class=line><span class=cl>client_body_timeout 15s<span class=p>;</span>
</span></span><span class=line><span class=cl>client_header_timeout 15s<span class=p>;</span>
</span></span><span class=line><span class=cl>proxy_connect_timeout 5s<span class=p>;</span>
</span></span><span class=line><span class=cl>proxy_read_timeout 5s<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>gzip_vary on<span class=p>;</span>
</span></span><span class=line><span class=cl>gzip_proxied any<span class=p>;</span>
</span></span><span class=line><span class=cl>gzip_comp_level 6<span class=p>;</span>
</span></span><span class=line><span class=cl>gzip_buffers <span class=m>16</span> 8k<span class=p>;</span>
</span></span><span class=line><span class=cl>gzip_http_version 1.1<span class=p>;</span>
</span></span><span class=line><span class=cl>gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>log_format combined_with_ms <span class=s1>&#39;$remote_addr - $remote_user [$time_local] &#39;</span>
</span></span><span class=line><span class=cl>                    <span class=s1>&#39;&#34;$request&#34; $status $body_bytes_sent &#39;</span>
</span></span><span class=line><span class=cl>                    <span class=s1>&#39;&#34;$http_referer&#34; &#34;$http_user_agent&#34; &#34;$request_time&#34;&#39;</span><span class=p>;</span>
</span></span></code></pre></div><h3 id=running-a-container>Running a container<a hidden class=anchor aria-hidden=true href=#running-a-container>#</a></h3><p>I wanted a dedicated linux user for each container. I created a user:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>useradd -m -s /bin/bash kollektivkart
</span></span><span class=line><span class=cl><span class=c1># enable user to own systemd units that are automatically enabled on boot</span>
</span></span><span class=line><span class=cl>loginctl enable-linger kollektivkart
</span></span></code></pre></div><p>I installed podman to run containers:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>apt install podman
</span></span></code></pre></div><p>I decided to run this particular container on port 8000 on the loopback, so I went and modified <code>/etc/nginx/sites-available/kollektivkart.conf</code>, adding the following into the <code>server</code> block that was already there:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>    <span class=nv>location</span> <span class=o>=</span> /robots.txt <span class=o>{</span>
</span></span><span class=line><span class=cl>        add_header Content-Type text/plain<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=m>200</span> <span class=s2>&#34;User-agent: *\nDisallow: /&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    location / <span class=o>{</span>
</span></span><span class=line><span class=cl>        proxy_pass http://127.0.0.1:8000<span class=p>;</span>
</span></span><span class=line><span class=cl>        proxy_http_version 1.1<span class=p>;</span>
</span></span><span class=line><span class=cl>        proxy_set_header Host <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        proxy_set_header X-Real-IP <span class=nv>$remote_addr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        proxy_set_header X-Forwarded-For <span class=nv>$proxy_add_x_forwarded_for</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        proxy_set_header X-Forwarded-Proto <span class=nv>$scheme</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        limit_conn conn_limit_per_ip 20<span class=p>;</span>
</span></span><span class=line><span class=cl>        limit_req <span class=nv>zone</span><span class=o>=</span>request_limit <span class=nv>burst</span><span class=o>=</span><span class=m>20</span> nodelay<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    access_log /var/log/nginx/access.log combined_with_ms<span class=p>;</span>
</span></span></code></pre></div><p>The rest of the steps have been done with the <code>kollektivkart</code> user I created. I made an environment file for environment variables I wanted to be available within the container. There aren&rsquo;t any secrets in this one, so I didn&rsquo;t bother with <a href=https://docs.podman.io/en/latest/markdown/podman-secret-create.1.html>podman secrets</a> and just created <code>$HOME/kollektivkart.conf</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>CPU_LIMIT</span><span class=o>=</span>2.0
</span></span><span class=line><span class=cl><span class=nv>MEM_LIMIT</span><span class=o>=</span>2048m
</span></span><span class=line><span class=cl><span class=nv>WORKERS</span><span class=o>=</span><span class=m>4</span>
</span></span><span class=line><span class=cl><span class=nv>SIMPLE_ANALYTICS</span><span class=o>=</span><span class=nb>true</span>
</span></span><span class=line><span class=cl><span class=nv>IMAGE_TAG</span><span class=o>=</span>latest
</span></span></code></pre></div><p>In <code>$HOME/.config/systemd/user/kollektivkart.service</code> I made a systemd unit for the container:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-systemd data-lang=systemd><span class=line><span class=cl><span class=k>[Unit]</span>
</span></span><span class=line><span class=cl><span class=na>Description</span><span class=o>=</span><span class=s>kollektivkart</span>
</span></span><span class=line><span class=cl><span class=na>After</span><span class=o>=</span><span class=s>network.target</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[Service]</span>
</span></span><span class=line><span class=cl><span class=na>EnvironmentFile</span><span class=o>=</span><span class=s>/home/kollektivkart/kollektivkart.conf</span>
</span></span><span class=line><span class=cl><span class=na>ExecStart</span><span class=o>=</span><span class=s>/usr/bin/podman run --rm -p 127.0.0.1:8000:8000 </span>\
</span></span><span class=line><span class=cl><span class=s>      --cpus=&#34;${CPU_LIMIT}&#34; </span>\
</span></span><span class=line><span class=cl><span class=s>      --memory=&#34;${MEM_LIMIT}&#34; </span>\
</span></span><span class=line><span class=cl><span class=s>      --env-file=/home/kollektivkart/kollektivkart.conf </span>\
</span></span><span class=line><span class=cl><span class=s>      ghcr.io/kaaveland/bus-eta:${IMAGE_TAG} </span>\
</span></span><span class=line><span class=cl><span class=s>      webapp:server </span>\
</span></span><span class=line><span class=cl><span class=s>      --preload </span>\
</span></span><span class=line><span class=cl><span class=s>      --bind 0.0.0.0:8000 </span>\
</span></span><span class=line><span class=cl><span class=s>      --chdir=/app </span>\
</span></span><span class=line><span class=cl><span class=s>      --workers=&#34;${WORKERS}&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>SyslogIdentifier</span><span class=o>=</span><span class=s>kollektivkart</span>
</span></span><span class=line><span class=cl><span class=na>Restart</span><span class=o>=</span><span class=s>on-failure</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[Install]</span>
</span></span><span class=line><span class=cl><span class=na>WantedBy</span><span class=o>=</span><span class=s>default.target</span>
</span></span></code></pre></div><p>I started it and enabled it with these commands:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>systemctl --user daemon-reload
</span></span><span class=line><span class=cl>systemctl --user <span class=nb>enable</span> kollektivkart
</span></span><span class=line><span class=cl>systemctl --user start kollektivkart
</span></span></code></pre></div><p>With this setup, I need to <code>ssh</code> to the <code>kollektivkart</code> user and execute <code>podman pull ghcr.io/kaaveland/bus-eta:latest</code> and <code>systemd --user restart kollektivkart</code> to deploy. A rollback requires me to manually set <code>IMAGE_TAG</code> in the environment file and issue <code>systemctl --user daemon-reload && systemctl --user restart kollektivkart</code>.</p><h2 id=cdn>CDN<a hidden class=anchor aria-hidden=true href=#cdn>#</a></h2><p>I went with <a href=https://bunny.net/>bunny.net</a> for this and set it up by making an A record point to the CDN and having it pull from my origin server at another domain. It was straightforward to set this up, and quite inexpensive too. I&rsquo;m probably going to change this setup to just push my static files directly into the CDN and run APIs on a different domain in the future. 🚧</p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>Of the original requirements:</p><ul><li>TLS and sensible http routing ✅</li><li>Inexpensive hosting and S3-compatible object storage ✅</li><li>Running arbitrary webapps in containers ✅</li><li>Running arbitrary jobs in containers ❓</li><li>Option to use a managed database if I wanted ❌ (not supported in Hetzner)</li><li>Easy/scriptable deploy, minimal ops, minimal fuss ✅ (Could do more here 🚧)</li><li>CDN ✅</li><li>As little YAML as possible ✅ (Only in the GitHub workflows that push images)</li></ul><p>I&rsquo;m quite happy with where I got this, but I want to investigate some things soon:</p><ul><li><a href=https://caddyserver.com/>caddyserver</a> for TLS termination, possibly inside a container? 🤔</li><li><a href=https://docs.podman.io/en/latest/markdown/podman-systemd.unit.5.html>quadlets</a></li><li><a href=https://docs.podman.io/en/latest/markdown/podman-auto-update.1.html>podman auto-update</a></li><li>Push static files to CDN for deployment</li><li>Set up all of this configuration with cloud-init + ansible or puppet (Honestly, it&rsquo;s probably going to be ansible even though I wanted to avoid YAML)</li><li>Putting daily batch data processing in podman + systemd managed containers</li></ul><p>The setup feels pretty ergonomic and nice already, though. It is quick and easy for me to deploy a new container service, all I need to do is to allocate a port, add a proxy pass and a systemd unit. No new services need to be purchased, I&rsquo;m already paying for everything I need, and it&rsquo;s actually more affordable than the hosting I was using before. I&rsquo;m comfortable configuring postgres on this machine, sending backups to object storage using something like <a href=https://github.com/wal-g/wal-g>wal-g</a> or <a href=https://pgbackrest.org/>pgbackrest</a>, I&rsquo;ve done this kind of thing at work before.</p><h3 id=cost-breakdown>Cost breakdown<a hidden class=anchor aria-hidden=true href=#cost-breakdown>#</a></h3><p>All costs include VAT:</p><ul><li><a href=https://bunny.net>CDN</a>: $0.5 / month minimum payment covers roughly 40GB for my usage</li><li>CX32 instance with 4 shared VCPU, 8 GB RAM and 80GB NVME SSD including backups: € 10.08</li><li>S3 compatible blob storage with 1TB storage and 1TB egress: € 6.24</li></ul><p>This is a lot more capacity than what I really need, but it&rsquo;s nice to have some space to grow. Maybe I&rsquo;ll end up hosting more things now that I no longer need to increase the size of my bill whenever I want to test an idea?</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://kaveland.no/tags/cloud/>Cloud</a></li><li><a href=https://kaveland.no/tags/linux/>Linux</a></li><li><a href=https://kaveland.no/tags/ops/>Ops</a></li></ul><nav class=paginav><a class=prev href=https://kaveland.no/posts/2025-04-16-whats-up-eugene/><span class=title>« Prev</span><br><span>Checking SQL migrations with eugene</span>
</a><a class=next href=https://kaveland.no/posts/2025-04-04-finding-missing-indexes-in-pg-catalog/><span class=title>Next »</span><br><span>Finding foreign keys missing indexes</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Running containers on no-ops linux in 2025 on x" href="https://x.com/intent/tweet/?text=Running%20containers%20on%20no-ops%20linux%20in%202025&amp;url=https%3a%2f%2fkaveland.no%2fposts%2f2025-04-14-running-containers-on-the-cheap%2f&amp;hashtags=cloud%2clinux%2cops"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Running containers on no-ops linux in 2025 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fkaveland.no%2fposts%2f2025-04-14-running-containers-on-the-cheap%2f&amp;title=Running%20containers%20on%20no-ops%20linux%20in%202025&amp;summary=Running%20containers%20on%20no-ops%20linux%20in%202025&amp;source=https%3a%2f%2fkaveland.no%2fposts%2f2025-04-14-running-containers-on-the-cheap%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Running containers on no-ops linux in 2025 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fkaveland.no%2fposts%2f2025-04-14-running-containers-on-the-cheap%2f&title=Running%20containers%20on%20no-ops%20linux%20in%202025"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Running containers on no-ops linux in 2025 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fkaveland.no%2fposts%2f2025-04-14-running-containers-on-the-cheap%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Running containers on no-ops linux in 2025 on whatsapp" href="https://api.whatsapp.com/send?text=Running%20containers%20on%20no-ops%20linux%20in%202025%20-%20https%3a%2f%2fkaveland.no%2fposts%2f2025-04-14-running-containers-on-the-cheap%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Running containers on no-ops linux in 2025 on telegram" href="https://telegram.me/share/url?text=Running%20containers%20on%20no-ops%20linux%20in%202025&amp;url=https%3a%2f%2fkaveland.no%2fposts%2f2025-04-14-running-containers-on-the-cheap%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Running containers on no-ops linux in 2025 on ycombinator" href="https://news.ycombinator.com/submitlink?t=Running%20containers%20on%20no-ops%20linux%20in%202025&u=https%3a%2f%2fkaveland.no%2fposts%2f2025-04-14-running-containers-on-the-cheap%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://kaveland.no/>Robin's blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>